<!-- Plugin Configuration File. Read more: https://plugins.jetbrains.com/docs/intellij/plugin-configuration-file.html -->
<idea-plugin>
    <id>com.github.wl2027.runtime.pivot.plugin</id>
    <name>runtime-pivot</name>
    <vendor>wl2027</vendor>

    <depends>com.intellij.modules.platform</depends>
    <depends>com.intellij.modules.all</depends>
    <depends>com.intellij.java</depends>


    <resource-bundle>messages.RuntimePivotBundle</resource-bundle>

    <extensions defaultExtensionNs="com.intellij">
        <!-- Add your extensions here -->
        <java.programPatcher implementation="com.runtime.pivot.plugin.PerRun"/>
        <projectService serviceImplementation="com.runtime.pivot.plugin.service.XDebugMethodContext" />
    </extensions>

<!--    com.intellij.icons.AllIcons.Actions.BuildAutoReloadChanges-->

    <actions>
        <group id="RuntimePivot.MainMenu" text="Runtime Pivot" popup="true"
               icon="AllIcons.General.Locate">
            <separator text="program"/>
            <action id="RuntimePivot.ClassLoaderTree" text="ClassLoader Tree"
                    icon="com.intellij.icons.AllIcons.Actions.ShowAsTree"
                    class="com.runtime.pivot.plugin.actions.program.ClassLoaderTreeAction"/>
            <action id="RuntimePivot.ClassLoaderClassTree" text="ClassLoader Class Tree"
                    icon="com.intellij.icons.AllIcons.General.TreeHovered"
                    class="com.runtime.pivot.plugin.actions.program.ClassLoaderClassTreeAction"/>
            <action id="RuntimePivot.TransformerList" text="Transformers"
                    icon="com.intellij.icons.AllIcons.Actions.ListFiles"
                    class="com.runtime.pivot.plugin.actions.program.TransformersAction"/>

<!--            BalloonInformation Information ShowInfos-->
<!--            作用在类或对象上-->
            <separator text="class"/>
<!--            GroupByClass-->
            <action id="RuntimePivot.ClassLoadingProcess" text="Class Loading Process"
                    icon="com.intellij.icons.AllIcons.Nodes.Class"
                    class="com.runtime.pivot.plugin.actions.struct.ClassLoadingProcessAction"/>
            <action id="RuntimePivot.ClassFileDump" text="Class File Dump"
                    icon="/icons/class-list.svg"
                    class="com.runtime.pivot.plugin.actions.struct.ClassFileDumpAction"/>

<!--            <action id="RuntimePivot.ClassLoadingProcess" text="Class Loading Process"-->
<!--                    icon="com.intellij.icons.AllIcons.Debugger.ClassLevelWatch"-->
<!--                    class="com.runtime.pivot.plugin.actions.struct.ClassLoadingProcessAction"/>-->
<!--            <action id="RuntimePivot.ClassFileDump" text="Class File Dump"-->
<!--                    icon="com.intellij.icons.AllIcons.Nodes.Class"-->
<!--                    class="com.runtime.pivot.plugin.actions.struct.ClassFileDumpAction"/>-->
<!--            <action id="RuntimePivot.DumpObjectClass" text="Dump Object Class"-->
<!--                    icon="/icons/class-list.svg"-->
<!--                    class="com.runtime.pivot.plugin.actions.struct.DumpObjectClassAction"/>-->
<!--            <action id="RuntimePivot.DumpClassList" text="Dump Class List"-->
<!--                    icon="com.intellij.icons.AllIcons.Nodes.AbstractClass"-->
<!--                    class="com.runtime.pivot.plugin.actions.struct.DumpClassListAction"/>-->

            <separator text="method"/>
            <action id="RuntimePivot.MethodStartWatch" text="Start Monitoring"
                    icon="com.intellij.icons.AllIcons.Actions.ProfileBlue"
                    class="com.runtime.pivot.plugin.actions.method.MethodStartWatchAction"/>
            <action id="RuntimePivot.MethodStopWatch" text="Stop Monitoring"
                    icon="com.intellij.icons.AllIcons.Actions.Suspend"
                    class="com.runtime.pivot.plugin.actions.method.MethodStopWatchAction"/>
            <action id="RuntimePivot.BreakpointRestore" text="Breakpoint Restore"
                    icon="com.intellij.icons.AllIcons.Actions.Rollback"
                    class="com.runtime.pivot.plugin.actions.method.BreakpointRestoreAction"/>
            <action id="RuntimePivot.StartExceptionRestore" text="Start Exception Restore"
                    icon="/icons/rerunAutomatically.svg"
                    class="com.runtime.pivot.plugin.actions.method.ExceptionRestoreAction"/>

            <action id="RuntimePivot.StopExceptionRestore" text="Stop Exception Restore"
                    icon="/icons/stopRefresh.svg"
                    class="com.runtime.pivot.plugin.actions.method.ExceptionRestoreAction"/>

            <separator text="object"/>
            <action id="RuntimePivot.ObjectInternals" text="Object Internals"
                    icon="com.intellij.icons.AllIcons.General.BalloonInformation"
                    class="com.runtime.pivot.plugin.actions.object.ObjectInternalsAction"/>

            <action id="RuntimePivot.ObjectStore" text="Object Store"
                    icon="com.intellij.icons.AllIcons.Actions.Install"
                    class="com.runtime.pivot.plugin.actions.object.ObjectStoreAction"/>

            <action id="RuntimePivot.ObjectLoad" text="Object Load"
                    icon="com.intellij.icons.AllIcons.Actions.Uninstall"
                    class="com.runtime.pivot.plugin.actions.object.ObjectLoadAction"/>

<!--            <action id="RuntimePivot.ObjectStore" text="Store"-->
<!--                    icon="com.intellij.icons.AllIcons.Ide.IncomingChangesOn"-->
<!--                    class="com.runtime.pivot.plugin.actions.object.ObjectStoreAction"/>-->

<!--            <action id="RuntimePivot.ObjectLoad" text="Load"-->
<!--                    icon="com.intellij.icons.AllIcons.Ide.OutgoingChangesOn"-->
<!--                    class="com.runtime.pivot.plugin.actions.object.ObjectLoadAction"/>-->

            <add-to-group group-id="XDebugger.ValueGroup" anchor="first"/>
            <add-to-group group-id="EditorPopupMenu" anchor="first"/>
        </group>



<!--        <action id="InstrumentationAction" class="com.runtime.pivot.plugin.test.InstrumentationAction"-->
<!--                text="InstrumentationAction">-->
<!--            &lt;!&ndash;            <add-to-group group-id="XDebugger.Watches.Tree.Popup" anchor="first" />&ndash;&gt;-->
<!--            <add-to-group group-id="EditorPopupMenu" anchor="first"/>-->
<!--        </action>-->
<!--        <action id="Resume123" class="com.runtime.pivot.plugin.test.ResumeAction2" text="Resume123"-->
<!--                icon="AllIcons.Actions.Colors">-->
<!--            <add-to-group group-id="DebuggingActionsGroup" anchor="first"/>-->
<!--            &lt;!&ndash;            <add-to-group group-id="RunToolbarDebuggerAdditionalActions" anchor="first"/>&ndash;&gt;-->
<!--            <add-to-group group-id="EditorPopupMenu" anchor="first"/>-->
<!--        </action>-->


        <!--        <group id="DebugMainMenu">-->
        <!--            <separator/>-->
        <!--            <group id="DebuggingActionsGroup" popup="true">-->
        <!--                <group id="DebugReloadGroup"/>-->
        <!--                <separator/>-->
        <!--                <action id="StepOver" class="com.intellij.xdebugger.impl.actions.StepOverAction" icon="AllIcons.Actions.TraceOver"/>-->
        <!--                <action id="ForceStepOver" class="com.intellij.xdebugger.impl.actions.ForceStepOverAction" icon="PlatformDebuggerImplIcons.Actions.Force_step_over"/>-->
        <!--                <action id="StepInto" class="com.intellij.xdebugger.impl.actions.StepIntoAction" icon="AllIcons.Actions.TraceInto"/>-->
        <!--                <action id="ForceStepInto" class="com.intellij.xdebugger.impl.actions.ForceStepIntoAction" icon="PlatformDebuggerImplIcons.Actions.Force_step_into"/>-->
        <!--                <action id="SmartStepInto" class="com.intellij.xdebugger.impl.actions.SmartStepIntoAction" icon="AllIcons.Debugger.SmartStepInto"/>-->
        <!--                <action id="StepOut" class="com.intellij.xdebugger.impl.actions.StepOutAction" icon="AllIcons.Actions.StepOut"/>-->
        <!--                <action id="RunToCursor" class="com.intellij.xdebugger.impl.actions.RunToCursorAction" icon="AllIcons.Actions.RunToCursor"/>-->
        <!--                <action id="ForceRunToCursor" class="com.intellij.xdebugger.impl.actions.ForceRunToCursorAction" icon="PlatformDebuggerImplIcons.Actions.Force_run_to_cursor"/>-->
        <!--                <action id="Pause" class="com.intellij.xdebugger.impl.actions.PauseAction" icon="AllIcons.Actions.Pause"/>-->
        <!--                <action id="Resume" class="com.intellij.xdebugger.impl.actions.ResumeAction" icon="AllIcons.Actions.Resume"/>-->
        <!--                <separator/>-->
        <!--                <action id="EvaluateExpression" class="com.intellij.xdebugger.impl.actions.EvaluateAction" icon="AllIcons.Debugger.EvaluateExpression"/>-->
        <!--                <action id="QuickEvaluateExpression" class="com.intellij.xdebugger.impl.actions.QuickEvaluateAction"/>-->
        <!--                <action id="ShowExecutionPoint" class="com.intellij.xdebugger.impl.actions.ShowExecutionPointAction"-->
        <!--                        icon="AllIcons.Debugger.ShowCurrentFrame"/>-->
        <!--                <separator/>-->
        <!--            </group>-->
        <!--            <group id="BreakpointActionsGroup" popup="true">-->
        <!--                <action id="Debugger.RestoreBreakpoint" class="com.intellij.xdebugger.impl.actions.RestoreBreakpointAction"/>-->
        <!--                <action id="ToggleLineBreakpoint" class="com.intellij.xdebugger.impl.actions.ToggleLineBreakpointAction">-->
        <!--                    <override-text place="MainMenu"/>-->
        <!--                </action>-->
        <!--                <action id="ToggleTemporaryLineBreakpoint" class="com.intellij.xdebugger.impl.actions.ToggleTemporaryLineBreakpointAction">-->
        <!--                    <override-text place="MainMenu"/>-->
        <!--                </action>-->
        <!--                <action id="ToggleBreakpointEnabled" class="com.intellij.xdebugger.impl.actions.ToggleBreakpointEnabledAction"/>-->
        <!--            </group>-->
        <!--            <action id="ViewBreakpoints" class="com.intellij.xdebugger.impl.actions.ViewBreakpointsAction" icon="AllIcons.Debugger.ViewBreakpoints"/>-->
        <!--            <separator/>-->

        <!--            <add-to-group group-id="RunMenu" anchor="last"/>-->
        <!--        </group>-->
    </actions>

    <projectListeners>
        <listener class="com.runtime.pivot.plugin.listeners.MethodListener"
                  topic="com.intellij.xdebugger.XDebuggerManagerListener"/>
    </projectListeners>
</idea-plugin>
